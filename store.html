<!DOCTYPE html>
<html lang="uz">
<head>
    <!-- Sahifa UTF-8 kodlash tizimida bo'ladi -->
    <meta charset="UTF-8">
    <!-- Sahifa barcha qurilmalarga moslashgan (responsive) -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Brauzer oynasida chiqadigan sarlavha -->
    <title>ğŸŒ¿ğŸŒ¿ Flowers Store ğŸŒ¿ğŸŒ¿</title>

    <!-- Brauzer tabidagi belgi (favicon) -->
    <link rel="icon" type="image/png" href="/photos/aiease_1762170959987.png">

    <!-- Font Awesome ikonkalari uchun kutubxona -->
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

    <!-- Saytning asosiy CSS fayli -->
    <link rel="stylesheet" href="./store.css">
</head>
<body>

    <!-- SAYTNING YUQORI QISMI / HEADER -->
    <header>
        <h1>ğŸŒ¿ Flowers Store ğŸŒ¿</h1>
        <nav>
            <!-- Do'kon logotipi -->
            <img src="/photos/aiease_1762170959987.png" id="logo" alt="logo" height="70px">
            
            <!-- Navigatsiya havolalari -->
            <a href="#">Bosh sahifa</a>
            <a href="#product">Mahsulotlar</a>
            <a href="#reviews">Sharhlar</a>
            <a href="#aloqa">Aloqa</a>

            <!-- Foydalanuvchi uchun avtorizatsiya tugmasi -->
            <button id="userAuthBtn" class="cart-btn" title="Ro'yxatdan o'tish / Kirish">
                ğŸ‘¤
            </button>

            <!-- Yorug'/qorong'u rejimni almashtirish tugmasi -->
            <button id="modeToggleBtn" class="cart-btn" title="Rejimni almashtirish">â˜€ï¸</button>

            <!-- Savatcha (cart) tugmasi -->
            <button id="openCartBtn" class="cart-btn">
                ğŸ›’
                <!-- Savatchadagi mahsulotlar soni belgisi -->
                <span id="cartCountBadge" class="cart-badge" style="display: none;">0</span>
            </button>
        </nav>
    </header>

    <!-- MAHSULOTLAR QISMI -->
    <div class="container" id="product">
        <h2>Barcha gullar</h2>

        <!-- Qidiruv (filtrlash) qismi -->
        <div class="search-container">
            <!-- Gul turini tanlash (dropdown menyu) -->
            <select id="selectFlowerName">
                <option value="">â€” Barcha gullar â€”</option>
            </select>
            
            <!-- Gul nomi boâ€˜yicha qidiruv -->
            <input type="text" id="searchNameInput" placeholder="Gul nomini kiriting...">
            <!-- Narx boâ€˜yicha qidiruv -->
            <input type="number" id="searchPriceInput" placeholder="Maksimal narx..." min="0">
        </div>

        <!-- Mahsulotlar joylashadigan konteyner -->
        <div class="products" id="productsContainer"></div>
    </div>

    <!-- SHARHLAR QISMI -->
    <section class="container" id="reviews">
        <h2>Foydalanuvchilar Sharhlari va Baholari</h2>
        <p class="instruction">
            Mahsulotga baho berganingizdan so'ng (yulduzchani bosish), 
            shu yerda sharh yozish imkoniyati paydo bo'ladi.
        </p>
        
        <!-- Sharhlar dinamik ravishda bu yerga yuklanadi -->
        <div id="reviewsContainer">
            <p style="text-align: center; color: #777;">Sharhlar yuklanmoqda...</p>
        </div>
    </section>
    
    <!-- SHARH QOâ€˜SHISH MODAL OYNASI -->
    <div id="reviewModal" class="modal">
        <div class="modal-content">
            <!-- Yopish belgisi -->
            <span id="closeReviewBtn" class="close">Ã—</span>
            <h2 id="reviewProductName">Mahsulot nomi</h2>
            
            <!-- Sharh yuborish formasi -->
            <form id="reviewForm">
                <p>Sizning bahoingiz: <span id="modalReviewRating" class="rating-display"></span></p>

                <!-- Foydalanuvchi ismi -->
                <input type="text" id="reviewUserName" placeholder="Ismingiz (Sharhda ko'rinadi)" required>
                
                <!-- Sharh matni -->
                <textarea 
                    id="reviewComment" 
                    placeholder="Qo'shimcha sharhingizni yozing (ixtiyoriy)" 
                    rows="4"
                ></textarea>
                
                <!-- Mahsulot ID-si yashirin inputda -->
                <input type="hidden" id="reviewProductId">
                <button type="submit">Sharhni yuborish</button>
            </form>
        </div>
    </div>
    
    <!-- MAHSULOTNI KOâ€˜RISH MODAL OYNASI -->
    <div id="productModal" class="modal">
        <div class="modal-content">
            <span id="closeProductBtn" class="close">Ã—</span>
            <h2 id="modalProductName">Gul nomi</h2>
            <img id="modalProductImage" src="" alt="Gul rasmi">

            <!-- Mahsulot varianti va miqdorini tanlash -->
            <form id="productOptionsForm">
                <label for="sizeSelect">Turini tanlang:</label>
                <select id="sizeSelect" required></select>

                <label for="quantityInput">Soni:</label>
                <input type="number" id="quantityInput" value="1" min="1" required>

                <!-- Jami narx hisoblanadi -->
                <p>Jami narx: <span id="currentProductPrice" class="price">0 so'm</span></p>

                <button type="submit">Savatga qo'shish</button>
            </form>
        </div>
    </div>

    <!-- SAVATCHA (CART) MODAL OYNASI -->
    <div id="cartModal" class="modal">
        <div class="modal-content">
            <span id="closeCartBtn" class="close">Ã—</span>
            <h2>ğŸ› Sizning savatingiz</h2>

            <!-- Savatchadagi mahsulotlar -->
            <div id="cartItems"></div>

            <!-- Umumiy narx -->
            <p><strong>Umumiy:</strong> <span id="totalPrice">0 so'm</span></p>

            <!-- BUYURTMA BERISH FORMASI -->
            <form id="orderForm">
                <input type="text" id="ism" placeholder="Ismingiz" required>
                <input type="text" id="raqam" placeholder="Telefon raqamingiz" required>
                <input type="text" id="manzil" placeholder="Manzil (Shahar/ko'cha)" required> 
                
                <!-- Qo'shimcha izoh -->
                <textarea 
                    id="sharh" 
                    placeholder="Qo'shimcha sharh/izoh (Masalan, yetkazib berish vaqti, eshik kodi)" 
                    rows="2"
                ></textarea>

                <!-- Gulga yoziladigan maxsus xabar -->
                <textarea 
                    id="xabar_matni" 
                    placeholder="Gulga yoziladigan alohida xabar matni (Masalan: 'Tug'ilgan kuning bilan!')" 
                    rows="2"
                ></textarea>
                
                <button type="submit">âœ… Buyurtma berish</button>
                <p id="xabar"></p>
            </form>
        </div>
    </div>
    
    <!-- FOYDALANUVCHI KIRISH / ROâ€˜YXATDAN Oâ€˜TISH MODAL OYNASI -->
    <div id="authModal" class="modal">
        <div class="modal-content auth-modal-content">
            <span id="closeAuthBtn" class="close">Ã—</span>
            <h2 id="authTitle">Tizimga Kirish</h2>
            
            <!-- Login/roâ€˜yxatdan oâ€˜tish formasi -->
            <form id="authForm">
                <input type="email" id="authEmail" placeholder="Email manzil" required>
                <input type="password" id="authPassword" placeholder="Parol" required>
                
                <!-- Roâ€˜yxatdan oâ€˜tishda koâ€˜rinadigan ism -->
                <input type="text" id="authName" placeholder="Ismingiz (Ro'yxatdan o'tish uchun)" style="display:none;">
                
                <button type="submit" id="authSubmitBtn">Kirish</button>
            </form>
            
            <!-- Kirish / Roâ€˜yxatdan oâ€˜tish rejimini almashtirish -->
            <p class="toggle-auth">
                <span id="toggleAuthText">Akkauntingiz yo'qmi?</span> 
                <a href="#" id="toggleAuthMode">Ro'yxatdan o'tish</a>
            </p>

            <!-- Xabar (masalan: notoâ€˜gâ€˜ri parol yoki muvaffaqiyatli kirish) -->
            <p id="authMessage" style="text-align: center; color: #ff3366; margin-top: 10px;"></p>
        </div>
    </div>

    <!-- XARITA BO'LIMI -->
    <div class="map-container">
        <h3>ğŸ“ Bizning joylashuvimiz</h3>
        <p>Quyidagi xaritada bizning do'konimiz manzilini ko'rishingiz mumkin.</p>
        <iframe src="https://www.google.com/maps/embed?..."></iframe>
    </div>

    <!-- Aloqa ma'lumotlari -->
    <p><b>Murojat uchun: â˜ 91 657 43 27</b></p>

    <!-- Ijtimoiy tarmoqlar ikonkalari -->
    <div class="social-icons">
        <a href="https://t.me/code_zone_uz"><i class="fab fa-telegram-plane"></i></a>
        <a href="https://www.instagram.com/Sizning_Instagram_Profilingiz"><i class="fab fa-instagram"></i></a>
        <a href="https://www.youtube.com/channel/Sizning_YouTube_Kanal_IDingiz"><i class="fab fa-youtube"></i></a>
        <a href="https://github.com/munisbekraimjonov33-spec/Munisbek.git"><i class="fab fa-github"></i></a>
    </div>

    <!-- PASTKI QISM / FOOTER -->
    <footer id="aloqa">
        <p>Â© 2025 Flowers Store | Barcha huquqlar himoyalangan ğŸŒ¿</p>
    </footer>

    <!-- Maxsus xabarnoma (toast notification) -->
    <div id="custom-xabarnoma" class="xabarnoma">
        <span>Xabar matni</span>
    </div>

    <!-- JavaScript faylni ulash -->
    <script src="./store.js"></script>
</body>
</html>
